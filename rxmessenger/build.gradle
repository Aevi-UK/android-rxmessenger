plugins {
    id "com.jfrog.bintray" version "1.7.3"
}
apply plugin: 'com.android.library'

android {
    compileSdkVersion projectTargetSdkVersion
    buildToolsVersion androidBuildVersion

    defaultConfig {
        minSdkVersion projectMinSdkVersion
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_7
        targetCompatibility JavaVersion.VERSION_1_7
    }
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])

    compile domainDependencies.gson
    compile domainDependencies.rxJava
    compile domainDependencies.okio

    testCompile testDependencies.junit
    testCompile testDependencies.mockito
    testCompile testDependencies.assertJ
    testCompile testDependencies.robolectric
    testCompile testDependencies.robolectricannotations
}

bintray {
    configurations = ['archives']

    publish = true

    pkg {
        repo = 'aevi-uk'
        name = 'rx-messenger'
        userOrg = 'aevi'
        licenses = ['Apache-2.0']
        labels = ['rxjava', 'reactivex', 'android']
        websiteUrl = 'https://github.com/Aevi-UK/android-rx-messenger/'
        issueTrackerUrl = 'https://github.com/Aevi-UK/android-rx-messenger/issues'
        vcsUrl = 'https://github.com/Aevi-UK/android-rx-messenger.git'
    }
}

if (project.hasProperty('bintrayUser') && project.hasProperty('bintrayKey')) {
    bintray.user = project.bintrayUser
    bintray.key = project.bintrayKey
}